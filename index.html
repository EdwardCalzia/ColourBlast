<!DOCTYPE html>
<html>
<head>
	<title>ColourBlast</title>
	<style>
body {
			background-color: #f2f2f2;
			font-family: Arial, sans-serif;
			font-size: 16px;
			color: #333;
			margin: 0;
			padding: 0;
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
		}

		h1 {
			font-size: 28px;
			font-weight: bold;
			margin-top: 0;
			margin-bottom: 20px;
			color: #444;
			text-align: center;
		}

		form {
			background-color: #fff;
			box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
			padding: 20px;
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			margin-bottom: 20px;
		}

		label {
			font-weight: bold;
			margin-bottom: 10px;
			color: #666;
		}

		input[type="file"] {
			padding: 10px;
			margin-bottom: 20px;
			border-radius: 5px;
			background-color: #fafafa;
			color: #666;
			font-size: 16px;
			width: 100%;
			max-width: 300px;
			box-sizing: border-box;
		}

		select {
			padding: 10px;
			margin-bottom: 20px;
			border-radius: 5px;
			background-color: #fafafa;
			color: #666;
			font-size: 16px;
			width: 100%;
			max-width: 300px;
			box-sizing: border-box;
		}

		button {
			padding: 10px 20px;
			border: none;
			border-radius: 5px;
			background-color: #444;
			color: #fff;
			font-size: 16px;
			font-weight: bold;
			cursor: pointer;
			transition: background-color 0.2s ease-in-out;
			margin-bottom: 20px;
		}

		button:hover {
			background-color: #333;
		}

		.output {
			display: flex;
			flex-wrap: wrap;
			justify-content: center;
			align-items: center;
			margin-bottom: 20px;
			max-height: 200px;
			overflow-y: auto;
		}

		.output img {
			max-width: 60px;
			width: auto;
			max-height: 60px;
			height: auto;
			margin: 10px;
			box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
			background-color: #fff;
		}

		.output div {
			display: flex;
			flex-direction: column;
			align-items: center;
			margin: 10px;
		}

		.output div p {
			margin: 5px 0;
			font-size: 14px;
			color: #888;
		}
	</style>
</head>
<body>
	<h1>ColourBlast</h1>

	<label for="imageInput">Select an image to apply a filter:</label>
	<input type="file" id="imageInput" accept=".png, .jpg">

	<label for="filterSelect">Select a filter:</label>
	<select id="filterSelect">
		<option value="grayscale">Grayscale</option>
		<option value="sepia">Sepia</option>
		<option value="invert">Invert</option>
	</select>

	<button id="generateBtn">Generate Filtered Image</button>

	<div id="output"></div>

	<script>
		function applyFilter(img, filter) {
			var canvas = document.createElement("canvas");
			var ctx = canvas.getContext("2d");
			canvas.width = img.width;
			canvas.height = img.height;
			ctx.drawImage(img, 0, 0);
			var imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
			var data = imageData.data;

			switch (filter) {
				case "grayscale":
					for (var i = 0; i < data.length; i += 4) {
						var gray = data[i] * 0.2126 + data[i + 1] * 0.7152 + data[i + 2] * 0.0722;
						data[i] = gray;
						data[i + 1] = gray;
						data[i + 2] = gray;
					}
					break;
				case "sepia":
					for (var i = 0; i < data.length; i += 4) {
						var r = data[i];
						var g = data[i + 1];
						var b = data[i + 2];
						data[i] = Math.min(0.393 * r + 0.769 * g + 0.189 * b, 255);
						data[i + 1] = Math.min(0.349 * r + 0.686 * g + 0.168 * b, 255);
						data[i + 2] = Math.min(0.272 * r + 0.534 * g + 0.131 * b, 255);
					}
					break;
				case "invert":
					for (var i = 0; i < data.length; i += 4) {
						data[i] = 255 - data[i];
						data[i + 1] = 255 - data[i + 1];
						data[i + 2] = 255 - data[i + 2];
					}
					break;
			}

			ctx.putImageData(imageData, 0, 0);
			img.src = canvas.toDataURL();
		}


function generateFilteredImg() {
		var img = document.createElement("img");
		var output = document.getElementById("output");
		var filter = document.getElementById("filterSelect").value;
		var file = document.getElementById("imageInput").files[0];
		var reader = new FileReader();

		reader.addEventListener("load", function() {
			img.src = reader.result;
			applyFilter(img, filter);
			output.appendChild(img);
		}, false);

		if (file) {
			reader.readAsDataURL(file);
		}
	}

	document.getElementById("generateBtn").addEventListener("click", function() {
		var output = document.getElementById("output");
		output.innerHTML = "";
		generateFilteredImg();
		applyRandomFilter();
	}, false);

	window.addEventListener("load", function() {
		applyRandomFilter();
	}, false);
</script>
</body>
</html>
